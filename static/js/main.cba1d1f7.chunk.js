(this.webpackJsonptodoapp=this.webpackJsonptodoapp||[]).push([[0],{13:function(e,t,o){},14:function(e,t,o){},15:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),r=o(7),c=o.n(r),i=(o(13),o(1)),d=o(5),u=Object(n.createContext)(),s=function(e){var t=Object(n.useState)({isLightMode:!0,light:{todoColor:"black",subColor:"rgb(51, 51, 51)",bgColor:"white"},dark:{todoColor:"gray",subColor:"gray",bgColor:"rgb(51, 51, 51)"}}),o=Object(i.a)(t,2),r=o[0],c=o[1];return a.a.createElement(u.Provider,{value:Object(d.a)(Object(d.a)({},r),{},{toggleTheme:function(){c({isLightMode:!r.isLightMode,light:{todoColor:"black",subColor:"rgb(51, 51, 51)",bgColor:"white"},dark:{todoColor:"gray",subColor:"gray",bgColor:"rgb(51, 51, 51)"}}),document.getElementsByTagName("body")[0].classList.toggle("darkMode")}})},e.children)},l=o(4),b=o(17),m=function(e,t){switch(t.type){case"ADD_TODO":return[].concat(Object(l.a)(e),[{content:t.content,id:Object(b.a)(),subTodos:[]}]);case"DELETE_TODO":return e.filter((function(e){return e.id!==t.id}));case"EDIT_TODO":return e.map((function(e){return e.id===t.editTodo.id?{content:t.editTodo.content,id:t.editTodo.id,subTodos:t.editTodo.subTodos}:e}));case"ADD_SUBTODO":return e.map((function(e){return e.id===t.id?{content:e.content,id:e.id,subTodos:[].concat(Object(l.a)(e.subTodos),[{content:"",id:Object(b.a)()}])}:e}));case"DELETE_SUBTODO":return e.map((function(e){return e.id===t.ids.mainId?{content:e.content,id:e.id,subTodos:e.subTodos.filter((function(e){return e.id!==t.ids.subId}))}:e}));case"EDIT_SUBTODO":return e.map((function(e){return e.id===t.editSubTodo.mainId?{content:e.content,id:e.id,subTodos:e.subTodos.map((function(e){return e.id===t.editSubTodo.id?{content:t.editSubTodo.content,id:t.editSubTodo.id}:e}))}:e}));default:return e}},g=Object(n.createContext)(),T=function(e){var t=Object(n.useReducer)(m,[],(function(){var e=localStorage.getItem("todos");return e?JSON.parse(e):[{content:"Implement sub-todo",id:"unique2",subTodos:[{content:"Like this",id:"unique2-1"},{content:"Double click to add a sub-todo",id:"unique2-2"}]},{content:"Animation for deleting (strikethorugh and fade)",id:"unique3",subTodos:[]},{content:"Drag and drop re-ordering",id:"unique4",subTodos:[]}]})),o=Object(i.a)(t,2),r=o[0],c=o[1];return Object(n.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(r))}),[r]),a.a.createElement(g.Provider,{value:{todos:r,dispatch:c}},e.children)},E=function(e){var t=Object(n.useContext)(g).dispatch,o=Object(n.useState)(""),r=Object(i.a)(o,2),c=r[0],d=r[1],s=Object(n.useContext)(u),l=s.isLightMode,b=s.light,m=s.dark,T=l?b:m;return a.a.createElement("div",{className:"form",style:{background:T.bgColor,color:T.subColor}},a.a.createElement("form",{action:"",onSubmit:function(e){e.preventDefault(),""!==c.replace(/\s/g,"")&&(t({type:"ADD_TODO",content:c}),d(""))}},a.a.createElement("input",{required:!0,style:{background:T.bgColor,color:T.subColor},type:"text",className:"userInput",placeholder:"Add a to do",onChange:function(e){return d(e.target.value)},value:c})))},O=function(){var e=Object(n.useContext)(u),t=e.toggleTheme,o=e.isLightMode,r=e.light,c=e.dark,i=o?r:c;return a.a.createElement("span",{id:"themeBtn",onClick:t,style:{backgroundColor:i.subColor}})},p=(o(14),function(e){var t=e.subTodo,o=e.mainId,r=Object(n.useContext)(g).dispatch,c=Object(n.useContext)(u),i=c.isLightMode,d=c.light,s=c.dark,l=i?d:s;return a.a.createElement("div",{className:"subTodo"},a.a.createElement("span",{className:"dragBtn"}),a.a.createElement("input",{style:{background:l.bgColor,color:l.subColor},type:"text",className:"dos",onChange:function(e){return r({type:"EDIT_SUBTODO",editSubTodo:{content:e.target.value,id:t.id,mainId:o}})},value:t.content,autoFocus:!0,onDoubleClick:function(){return r({type:"ADD_SUBTODO",id:o})}}),a.a.createElement("span",{className:"deleteBtn",onClick:function(){return r({type:"DELETE_SUBTODO",ids:{mainId:o,subId:t.id}})}},"\xd7"))}),f=function(e){var t=e.subTodos,o=e.mainId;return t.length?a.a.createElement("div",{className:"subTodoList"},t.map((function(e){return a.a.createElement(p,{subTodo:e,mainId:o,key:e.id})}))):a.a.createElement("div",null)},h=function(e){var t=e.todo,o=Object(n.useContext)(g).dispatch,r=Object(n.useContext)(u),c=r.isLightMode,i=r.light,d=r.dark,s=c?i:d;return a.a.createElement("div",{className:"todo",style:{background:s.bgColor,color:s.todoColor}},a.a.createElement("div",{className:"mainTodo"},a.a.createElement("span",{className:"dragBtn"}),a.a.createElement("input",{style:{background:s.bgColor,color:s.todoColor},type:"text",className:"dos",onChange:function(e){return o({type:"EDIT_TODO",editTodo:{content:e.target.value,id:t.id,subTodos:t.subTodos}})},value:t.content,onDoubleClick:function(){return o({type:"ADD_SUBTODO",id:t.id})}}),a.a.createElement("span",{className:"deleteBtn",onClick:function(){return o({type:"DELETE_TODO",id:t.id})}},"\xd7")),a.a.createElement(f,{subTodos:t.subTodos,mainId:t.id}))},C=function(){var e=Object(n.useContext)(g).todos;return e.length?a.a.createElement("div",{className:"todoList"},e.map((function(e){return a.a.createElement(h,{todo:e,key:e.id})}))):a.a.createElement("div",{className:"todo center"},"/ / /")},D=function(){return a.a.createElement("div",{className:"todoApp"},a.a.createElement(s,null,a.a.createElement("h1",null,"To dos"),a.a.createElement(O,null),a.a.createElement(T,null,a.a.createElement("div",{className:"container"},a.a.createElement(C,null)),a.a.createElement(E,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,o){e.exports=o(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.cba1d1f7.chunk.js.map